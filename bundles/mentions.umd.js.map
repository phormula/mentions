{"version":3,"file":"mentions.umd.js","sources":["../../../projects/mentions/src/lib/text-input-autocomplete/textarea-caret-position.ts","../../../projects/mentions/src/lib/text-input-autocomplete/text-input-autocomplete.component.ts","../../../projects/mentions/src/lib/text-input-autocomplete/text-input-autocomplete.component.html","../../../node_modules/tslib/tslib.es6.js","../../../projects/mentions/src/lib/text-input-highlight/text-input-highlight.component.ts","../../../projects/mentions/src/lib/text-input-highlight/text-input-highlight.component.html","../../../projects/mentions/src/lib/mentions.component.ts","../../../projects/mentions/src/lib/mentions.component.html","../../../projects/mentions/src/lib/text-input-autocomplete/text-input-autocomplete-menu.component.ts","../../../projects/mentions/src/lib/text-input-autocomplete/text-input-autocomplete.module.ts","../../../projects/mentions/src/lib/text-input-highlight/text-input-highlight.module.ts","../../../projects/mentions/src/lib/mentions.module.ts","../../../projects/mentions/src/public-api.ts","../../../projects/mentions/src/mentions.ts"],"sourcesContent":["/* jshint browser: true */\n\n// We'll copy the properties below into the mirror div.\n// Note that some browsers, such as Firefox, do not concatenate properties\n// into their shorthand (e.g. padding-top, padding-bottom etc. -> padding),\n// so we have to list every single property explicitly.\nlet properties = [\n  'direction', // RTL support\n  'boxSizing',\n  'width', // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n  'height',\n  'overflowX',\n  'overflowY', // copy the scrollbar for IE\n\n  'borderTopWidth',\n  'borderRightWidth',\n  'borderBottomWidth',\n  'borderLeftWidth',\n  'borderStyle',\n\n  'paddingTop',\n  'paddingRight',\n  'paddingBottom',\n  'paddingLeft',\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n  'fontStyle',\n  'fontVariant',\n  'fontWeight',\n  'fontStretch',\n  'fontSize',\n  'fontSizeAdjust',\n  'lineHeight',\n  'fontFamily',\n\n  'textAlign',\n  'textTransform',\n  'textIndent',\n  'textDecoration', // might not make a difference, but better be safe\n\n  'letterSpacing',\n  'wordSpacing',\n\n  'tabSize',\n  'MozTabSize',\n];\n\nfunction isBrowser() {\n  return typeof window !== 'undefined';\n}\n\nfunction isFirefox() {\n  return isBrowser() && (window as any).mozInnerScreenX != null;\n}\n\nexport function getCaretCoordinates(\n  element: any,\n  position: number | null,\n  options: any = {}\n) {\n  if (!isBrowser()) {\n    throw new Error(\n      'textarea-caret-position#getCaretCoordinates should only be called in a browser'\n    );\n  }\n\n  let debug = (options && options.debug) || false;\n  if (debug) {\n    let el = document.querySelector(\n      '#input-textarea-caret-position-mirror-div'\n    );\n    if (el) el?.parentNode?.removeChild(el);\n  }\n\n  // The mirror div will replicate the textarea's style\n  let div = document.createElement('div');\n  div.id = 'input-textarea-caret-position-mirror-div';\n  document.body.appendChild(div);\n\n  let style = div.style;\n  let computed = window.getComputedStyle\n    ? window.getComputedStyle(element)\n    : element.currentStyle; // currentStyle for IE < 9\n  let isInput = element.nodeName === 'INPUT';\n\n  // Default textarea styles\n  style.whiteSpace = 'pre-wrap';\n  if (!isInput) style.wordWrap = 'break-word'; // only for textarea-s\n\n  // Position off-screen\n  style.position = 'absolute'; // required to return coordinates properly\n  if (!debug) style.visibility = 'hidden'; // not 'display: none' because we want rendering\n\n  // Transfer the element's properties to the div\n  properties.forEach(function (prop: any) {\n    if (isInput && prop === 'lineHeight') {\n      // Special case for <input>s because text is rendered centered and line height may be != height\n      if (computed.boxSizing === 'border-box') {\n        let height = parseInt(computed.height);\n        let outerHeight =\n          parseInt(computed.paddingTop) +\n          parseInt(computed.paddingBottom) +\n          parseInt(computed.borderTopWidth) +\n          parseInt(computed.borderBottomWidth);\n        let targetHeight = outerHeight + parseInt(computed.lineHeight);\n        if (height > targetHeight) {\n          style.lineHeight = height - outerHeight + 'px';\n        } else if (height === targetHeight) {\n          style.lineHeight = computed.lineHeight;\n        } else {\n          style.lineHeight = '0';\n        }\n      } else {\n        style.lineHeight = computed.height;\n      }\n    } else {\n      style[prop] = computed[prop];\n    }\n  });\n\n  if (isFirefox()) {\n    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n    if (element.scrollHeight > parseInt(computed.height))\n      style.overflowY = 'scroll';\n  } else {\n    style.overflow = 'hidden'; // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n  }\n\n  div.textContent = element.value.substring(0, position);\n  // The second special handling for input type=\"text\" vs textarea:\n  // spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n  if (isInput) div.textContent = div.textContent!.replace(/\\s/g, '\\u00a0');\n\n  let span = document.createElement('span');\n  // Wrapping must be replicated *exactly*, including when a long word gets\n  // onto the next line, with whitespace at the end of the line before (#7).\n  // The  *only* reliable way to do that is to copy the *entire* rest of the\n  // textarea's content into the <span> created at the caret position.\n  // For inputs, just '.' would be enough, but no need to bother.\n  span.textContent = element.value.substring(position) || '.'; // || because a completely empty faux span doesn't render at all\n  div.appendChild(span);\n\n  let coordinates = {\n    top: span.offsetTop + parseInt(computed['borderTopWidth']),\n    left: span.offsetLeft + parseInt(computed['borderLeftWidth']),\n    height: parseInt(computed['lineHeight']),\n  };\n\n  if (debug) {\n    span.style.backgroundColor = '#aaa';\n  } else {\n    document.body.removeChild(div);\n  }\n\n  return coordinates;\n}\n\n// if (typeof module != 'undefined' && typeof module.exports != 'undefined') {\n//   module.exports = getCaretCoordinates;\n// } else if (isBrowser()) {\n//   (window as any).getCaretCoordinates = getCaretCoordinates;\n// }\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef,\n} from '@angular/core';\n\nimport { getCaretCoordinates } from './textarea-caret-position';\n// @ts-ignore\n// import toPX from 'to-px';\n\nexport interface ChoiceWithIndices {\n  choice: any;\n  indices: {\n    start: number;\n    end: number;\n  };\n}\n\n@Component({\n  selector: 'flx-text-input-autocomplete',\n  templateUrl: './text-input-autocomplete.component.html',\n  styleUrls: ['./text-input-autocomplete.component.scss'],\n})\nexport class TextInputAutocompleteComponent\n  implements OnChanges, OnInit, OnDestroy\n{\n  /**\n   * Reference to the text input element.\n   */\n  @Input()\n  textInputElement: HTMLTextAreaElement | HTMLInputElement;\n\n  /**\n   * Reference to the menu template (used to display the search results).\n   */\n  @Input()\n  menuTemplate!: TemplateRef<any>;\n\n  /**\n   * The character which will trigger the search.\n   */\n  @Input() triggerCharacter = '@';\n\n  /**\n   * The regular expression that will match the search text after the trigger character.\n   * No match will hide the menu.\n   */\n  @Input() searchRegexp: RegExp = /^\\w*$/;\n\n  /**\n   * Whether to close the menu when the host textInputElement loses focus.\n   */\n  @Input() closeMenuOnBlur = false;\n\n  /**\n   * Pre-set choices for edit text mode, or to select/mark choices from outside the mentions component.\n   */\n  @Input() selectedChoices: any[] = [];\n\n  /**\n   * A function that formats the selected choice once selected.\n   * The result (label) is also used as a choice identifier (e.g. when editing choices).\n   */\n  @Input()\n  getChoiceLabel!: (choice: any) => string;\n\n  /**\n   * Called when the choices menu is shown.\n   */\n  @Output() menuShow = new EventEmitter();\n\n  /**\n   * Called when the choices menu is hidden.\n   */\n  @Output() menuHide = new EventEmitter();\n\n  /**\n   * Called when a choice is selected.\n   */\n  @Output() choiceSelected = new EventEmitter<ChoiceWithIndices>();\n\n  /**\n   * Called when a choice is removed.\n   */\n  @Output() choiceRemoved = new EventEmitter<ChoiceWithIndices>();\n\n  /**\n   * Called when a choice is selected, removed, or if any of the choices' indices change.\n   */\n  @Output() selectedChoicesChange = new EventEmitter<ChoiceWithIndices[]>();\n\n  /**\n   * Called on user input after entering trigger character. Emits search term to search by.\n   */\n  @Output() search = new EventEmitter<string>();\n\n  private _eventListeners: Array<() => void> = [];\n\n  private _selectedCwis: ChoiceWithIndices[] = [];\n  private _dumpedCwis: ChoiceWithIndices[] = [];\n  private _editingCwi: ChoiceWithIndices;\n\n  menuCtrl?: {\n    template: TemplateRef<any>;\n    context: any;\n    position: {\n      top: number;\n      left: number;\n    };\n    triggerCharacterPosition: number;\n    lastCaretPosition?: number;\n  };\n\n  constructor(private ngZone: NgZone, private renderer: Renderer2) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.selectedChoices) {\n      if (Array.isArray(this.selectedChoices)) {\n        /**\n         * Timeout needed since ngOnChanges is fired before the textInputElement value is updated.\n         * The problem is specific to publisher.landing component implementation, i.e. single\n         * textarea element is used for each account, only text changes..\n         * Use ngZone.runOutsideAngular to optimize the timeout so it doesn't fire\n         * global change detection events continuously..\n         */\n        this.ngZone.runOutsideAngular(() => {\n          setTimeout(() => {\n            const selectedCwisPrevious = JSON.stringify(this._selectedCwis);\n\n            this._selectedCwis = this.selectedChoices.map((c) => {\n              return {\n                choice: c,\n                indices: { start: -1, end: -1 },\n              };\n            });\n            this.updateIndices();\n\n            // Remove choices that index couldn't be found for\n            this._selectedCwis = this._selectedCwis.filter(\n              (cwi) => cwi.indices.start > -1\n            );\n\n            if (JSON.stringify(this._selectedCwis) !== selectedCwisPrevious) {\n              // TODO: Should check for indices change only (ignoring the changes inside choice object)\n              this.ngZone.run(() => {\n                this.selectedChoicesChange.emit(this._selectedCwis);\n              });\n            }\n          });\n        });\n      }\n    }\n  }\n\n  ngOnInit() {\n    const onKeydown = this.renderer.listen(\n      this.textInputElement,\n      'keydown',\n      (event) => this.onKeydown(event)\n    );\n    this._eventListeners.push(onKeydown);\n\n    const onInput = this.renderer.listen(\n      this.textInputElement,\n      'input',\n      (event) => this.onInput(event)\n    );\n    this._eventListeners.push(onInput);\n\n    const onBlur = this.renderer.listen(\n      this.textInputElement,\n      'blur',\n      (event) => this.onBlur(event)\n    );\n    this._eventListeners.push(onBlur);\n\n    const onClick = this.renderer.listen(\n      this.textInputElement,\n      'click',\n      (event) => this.onClick(event)\n    );\n    this._eventListeners.push(onClick);\n  }\n\n  ngOnDestroy() {\n    this.hideMenu();\n    this._eventListeners.forEach((unregister) => unregister());\n  }\n\n  onKeydown(event: KeyboardEvent): void {\n    const cursorPosition = this.textInputElement.selectionStart;\n    const precedingChar = this.textInputElement.value.charAt(\n      cursorPosition! - 1\n    );\n\n    if (\n      event.key === this.triggerCharacter &&\n      precedingCharValid(precedingChar)\n    ) {\n      this.showMenu();\n      return;\n    }\n\n    const keyCode = event.keyCode || event.charCode;\n    if (keyCode === 8 || keyCode === 46) {\n      // backspace or delete\n      const cwiToEdit = this._selectedCwis.find((cwi) => {\n        const label = this.getChoiceLabel(cwi.choice);\n        const labelEndIndex = this.getChoiceIndex(label) + label.length;\n        return cursorPosition === labelEndIndex;\n      });\n\n      if (cwiToEdit) {\n        this.editChoice(cwiToEdit.choice);\n      }\n    }\n  }\n\n  onInput(event: any): void {\n    const value = event.target.value;\n    const selectedCwisPrevious = JSON.stringify(this._selectedCwis);\n\n    if (!this.menuCtrl) {\n      // dump choices that are removed from the text (e.g. select all + paste),\n      // and/or retrieve them if user e.g. UNDO the action\n      // BUG: if text that contains mentions is selected and deleted using trigger char, no choices will be dumped (this.menuCtrl will be defined)!\n      this.dumpNonExistingChoices();\n      this.retrieveExistingChoices();\n      this.updateIndices();\n      if (JSON.stringify(this._selectedCwis) !== selectedCwisPrevious) {\n        // TODO: Should probably check for indices change only (ignoring the changes inside choice object)\n        this.selectedChoicesChange.emit(this._selectedCwis);\n      }\n      return;\n    }\n\n    this.updateIndices();\n    if (JSON.stringify(this._selectedCwis) !== selectedCwisPrevious) {\n      this.selectedChoicesChange.emit(this._selectedCwis);\n    }\n\n    if (\n      value[this.menuCtrl.triggerCharacterPosition] !== this.triggerCharacter\n    ) {\n      this.hideMenu();\n      return;\n    }\n\n    const cursorPosition = this.textInputElement.selectionStart;\n    if (cursorPosition! < this.menuCtrl.triggerCharacterPosition) {\n      this.hideMenu();\n      return;\n    }\n\n    const searchText = value.slice(\n      this.menuCtrl.triggerCharacterPosition + 1,\n      cursorPosition\n    );\n    if (!searchText.match(this.searchRegexp)) {\n      this.hideMenu();\n      return;\n    }\n\n    this.search.emit(searchText);\n  }\n\n  onBlur(event: FocusEvent): void {\n    if (!this.menuCtrl) {\n      return;\n    }\n\n    this.menuCtrl.lastCaretPosition = this.textInputElement\n      .selectionStart as number;\n\n    if (this.closeMenuOnBlur) {\n      this.hideMenu();\n    }\n  }\n\n  onClick(event: MouseEvent): void {\n    if (!this.menuCtrl) {\n      return;\n    }\n\n    const cursorPosition = this.textInputElement.selectionStart;\n    if (cursorPosition! <= this.menuCtrl.triggerCharacterPosition) {\n      this.hideMenu();\n      return;\n    }\n\n    const searchText = this.textInputElement.value.slice(\n      this.menuCtrl.triggerCharacterPosition + 1,\n      cursorPosition!\n    );\n    if (!searchText.match(this.searchRegexp)) {\n      this.hideMenu();\n      return;\n    }\n  }\n\n  private hideMenu() {\n    if (!this.menuCtrl) {\n      return;\n    }\n\n    this.menuCtrl = undefined;\n    this.menuHide.emit();\n\n    if (this._editingCwi) {\n      // If user didn't make any changes to it, add it back to the selected choices\n      const label = this.getChoiceLabel(this._editingCwi.choice);\n      const labelExists = this.getChoiceIndex(label + ' ') > -1;\n      const choiceExists = this._selectedCwis.find(\n        (cwi) => this.getChoiceLabel(cwi.choice) === label\n      );\n      if (labelExists && !choiceExists) {\n        this.addToSelected(this._editingCwi);\n        this.updateIndices();\n        this.selectedChoicesChange.emit(this._selectedCwis);\n      }\n    }\n    this._editingCwi = undefined as unknown as ChoiceWithIndices;\n  }\n\n  private showMenu() {\n    if (this.menuCtrl) {\n      return;\n    }\n\n    const lineHeight = this.getLineHeight(this.textInputElement);\n    const { top, left } = getCaretCoordinates(\n      this.textInputElement,\n      this.textInputElement.selectionStart\n    );\n\n    this.menuCtrl = {\n      template: this.menuTemplate,\n      context: {\n        selectChoice: this.selectChoice,\n        // $implicit: {\n        //   selectChoice: this.selectChoice\n        // },\n      },\n      position: {\n        top: top + lineHeight,\n        left: left,\n      },\n      triggerCharacterPosition: this.textInputElement.selectionStart as number,\n    };\n\n    this.menuShow.emit();\n  }\n\n  selectChoice = (choice: any) => {\n    const label = this.getChoiceLabel(choice);\n    const startIndex = this.menuCtrl!.triggerCharacterPosition;\n    const start = this.textInputElement.value.slice(0, startIndex);\n    const caretPosition =\n      this.menuCtrl!.lastCaretPosition || this.textInputElement.selectionStart;\n    const end = this.textInputElement.value.slice(caretPosition!);\n    const insertValue = label + ' ';\n    this.textInputElement.value = start + insertValue + end;\n    // force ng model / form control to update\n    this.textInputElement.dispatchEvent(new Event('input'));\n\n    const setCursorAt = (start + insertValue).length;\n    this.textInputElement.setSelectionRange(setCursorAt, setCursorAt);\n    this.textInputElement.focus();\n\n    const choiceWithIndices = {\n      choice,\n      indices: {\n        start: startIndex,\n        end: startIndex + label.length,\n      },\n    };\n\n    this.addToSelected(choiceWithIndices);\n    this.updateIndices();\n    this.selectedChoicesChange.emit(this._selectedCwis);\n\n    this.hideMenu();\n  };\n\n  editChoice(choice: any): void {\n    const label = this.getChoiceLabel(choice);\n    const startIndex = this.getChoiceIndex(label);\n    const endIndex = startIndex + label.length;\n\n    this._editingCwi = this._selectedCwis.find(\n      (cwi) => this.getChoiceLabel(cwi.choice) === label\n    ) as ChoiceWithIndices;\n    this.removeFromSelected(this._editingCwi);\n    this.selectedChoicesChange.emit(this._selectedCwis);\n\n    this.textInputElement.focus();\n    this.textInputElement.setSelectionRange(endIndex, endIndex);\n\n    this.showMenu();\n    this.menuCtrl!.triggerCharacterPosition = startIndex;\n\n    // TODO: editValue to be provided externally?\n    const editValue = label.replace(this.triggerCharacter, '');\n    this.search.emit(editValue);\n  }\n\n  dumpNonExistingChoices(): void {\n    const choicesToDump = this._selectedCwis.filter((cwi) => {\n      const label = this.getChoiceLabel(cwi.choice);\n      return this.getChoiceIndex(label) === -1;\n    });\n\n    if (choicesToDump.length) {\n      choicesToDump.forEach((cwi) => {\n        this.removeFromSelected(cwi);\n        this._dumpedCwis.push(cwi);\n      });\n    }\n  }\n\n  retrieveExistingChoices(): void {\n    const choicesToRetrieve = this._dumpedCwis.filter((dcwi) => {\n      const label = this.getChoiceLabel(dcwi.choice);\n      const labelExists = this.getChoiceIndex(label) > -1;\n      const choiceExists = this._selectedCwis.find(\n        (scwi) => this.getChoiceLabel(scwi.choice) === label\n      );\n      return labelExists && !choiceExists;\n    });\n\n    if (choicesToRetrieve.length) {\n      choicesToRetrieve.forEach((c) => {\n        this.addToSelected(c);\n        this._dumpedCwis.splice(this._dumpedCwis.indexOf(c), 1);\n      });\n    }\n  }\n\n  addToSelected(cwi: ChoiceWithIndices): void {\n    const exists = this._selectedCwis.some(\n      (scwi) =>\n        this.getChoiceLabel(scwi.choice) === this.getChoiceLabel(cwi.choice)\n    );\n\n    if (!exists) {\n      this._selectedCwis.push(cwi);\n      this.choiceSelected.emit(cwi);\n    }\n  }\n\n  removeFromSelected(cwi: ChoiceWithIndices): void {\n    const exists = this._selectedCwis.some(\n      (scwi) =>\n        this.getChoiceLabel(scwi.choice) === this.getChoiceLabel(cwi.choice)\n    );\n\n    if (exists) {\n      this._selectedCwis.splice(this._selectedCwis.indexOf(cwi), 1);\n      this.choiceRemoved.emit(cwi);\n    }\n  }\n\n  getLineHeight(elm: HTMLElement): number {\n    const lineHeightStr = getComputedStyle(elm).lineHeight || '';\n    const lineHeight = parseFloat(lineHeightStr);\n    const normalLineHeight = 1.2;\n\n    const fontSizeStr = getComputedStyle(elm).fontSize || '';\n    // const fontSize = +toPX(fontSizeStr);\n    const fontSize = parseFloat(fontSizeStr);\n\n    if (lineHeightStr === lineHeight + '') {\n      return fontSize * lineHeight;\n    }\n\n    if (lineHeightStr.toLowerCase() === 'normal') {\n      return fontSize * normalLineHeight;\n    }\n\n    // return toPX(lineHeightStr);\n    return parseFloat(lineHeightStr);\n  }\n\n  getChoiceIndex(label: string): number {\n    const text = this.textInputElement && this.textInputElement.value;\n    const labels = this._selectedCwis.map((cwi) =>\n      this.getChoiceLabel(cwi.choice)\n    );\n\n    return getChoiceIndex(text, label, labels);\n  }\n\n  updateIndices(): void {\n    this._selectedCwis = this._selectedCwis.map((cwi) => {\n      const label = this.getChoiceLabel(cwi.choice);\n      const index = this.getChoiceIndex(label);\n      return {\n        choice: cwi.choice,\n        indices: {\n          start: index,\n          end: index + label.length,\n        },\n      };\n    });\n  }\n}\n\nexport function getChoiceIndex(\n  text: string,\n  label: string,\n  labels: string[]\n): number {\n  text = text || '';\n\n  labels.forEach((l) => {\n    // Mask other labels that contain given label,\n    // e.g. if the given label is '@TED', mask '@TEDEducation' label\n    if (l !== label && l.indexOf(label) > -1) {\n      text = text.replace(new RegExp(l, 'g'), '*'.repeat(l.length));\n    }\n  });\n\n  return findStringIndex(text, label, (startIndex, endIndex) => {\n    // Only labels that are preceded with below defined chars are valid,\n    // (avoid 'labels' found in e.g. links being mistaken for choices)\n    const precedingChar = text[startIndex - 1];\n    return (\n      precedingCharValid(precedingChar) ||\n      text.slice(startIndex - 4, startIndex) === '<br>'\n    );\n  });\n}\n\nexport function precedingCharValid(char: string): boolean {\n  return !char || char === '\\n' || char === ' ' || char === '(';\n}\n\n// TODO: move to common!\nexport function findStringIndex(\n  text: string,\n  value: string,\n  callback: (startIndex: number, endIndex: number) => boolean\n): number {\n  let index = text.indexOf(value);\n  if (index === -1) {\n    return -1;\n  }\n\n  let conditionMet = callback(index, index + value.length);\n\n  while (!conditionMet && index > -1) {\n    index = text.indexOf(value, index + 1);\n    conditionMet = callback(index, index + value.length);\n  }\n\n  return index;\n}\n","<div *ngIf=\"menuCtrl\" class=\"menu-template-container\">\n   <ng-container *ngTemplateOutlet=\"menuTemplate; context: menuCtrl.context\"></ng-container>","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","import {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport { HighlightTag } from './highlight-tag.interface';\n\nconst styleProperties = Object.freeze([\n  'direction', // RTL support\n  'boxSizing',\n  'width', // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n  'height',\n  'overflowX',\n  'overflowY', // copy the scrollbar for IE\n\n  'borderTopWidth',\n  'borderRightWidth',\n  'borderBottomWidth',\n  'borderLeftWidth',\n  'borderStyle',\n\n  'paddingTop',\n  'paddingRight',\n  'paddingBottom',\n  'paddingLeft',\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n  'fontStyle',\n  'fontVariant',\n  'fontWeight',\n  'fontStretch',\n  'fontSize',\n  'fontSizeAdjust',\n  'lineHeight',\n  'fontFamily',\n\n  'textAlign',\n  'textTransform',\n  'textIndent',\n  'textDecoration', // might not make a difference, but better be safe\n\n  'letterSpacing',\n  'wordSpacing',\n\n  'tabSize',\n  'MozTabSize',\n]);\n\nconst tagIndexIdPrefix = 'flx-text-highlight-tag-id-';\n\nfunction indexIsInsideTag(index: number, tag: HighlightTag) {\n  return tag.indices.start < index && index < tag.indices.end;\n}\n\nfunction overlaps(tagA: HighlightTag, tagB: HighlightTag) {\n  return (\n    indexIsInsideTag(tagB.indices.start, tagA) ||\n    indexIsInsideTag(tagB.indices.end, tagA)\n  );\n}\n\nfunction isCoordinateWithinRect(rect: ClientRect, x: number, y: number) {\n  return rect.left < x && x < rect.right && rect.top < y && y < rect.bottom;\n}\n\nfunction escapeHtml(str: string): string {\n  return str.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\n\nexport interface TagMouseEvent {\n  tag: HighlightTag;\n  target: HTMLElement;\n  event: MouseEvent;\n}\n\n@Component({\n  selector: 'flx-text-input-highlight',\n  templateUrl: './text-input-highlight.component.html',\n  styleUrls: ['./text-input-highlight.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class TextInputHighlightComponent implements OnChanges, OnDestroy {\n  /**\n   * An array of indices of the textarea value to highlight.\n   */\n  @Input() tags: HighlightTag[] = [];\n\n  /**\n   * The textarea to highlight.\n   */\n  @Input() textInputElement: HTMLTextAreaElement;\n\n  /**\n   * The textarea value, in not provided will fall back to trying to grab it automatically from the textarea.\n   */\n  @Input() textInputValue: string;\n\n  /**\n   * The CSS class to add to highlighted tags.\n   */\n  @Input() tagCssClass: string = '';\n\n  /**\n   * Called when the area over a tag is clicked.\n   */\n  @Output() tagClick = new EventEmitter<TagMouseEvent>();\n\n  /**\n   * Called when the area over a tag is moused over.\n   */\n  @Output() tagMouseEnter = new EventEmitter<TagMouseEvent>();\n\n  /**\n   * Called when the area over the tag has the mouse removed from it.\n   */\n  @Output() tagMouseLeave = new EventEmitter<TagMouseEvent>();\n\n  @ViewChild('highlightElement', { static: true })\n  private highlightElement: ElementRef;\n\n  highlightElementContainerStyle: { [key: string]: string } = {};\n  highlightedText: string;\n\n  private textareaEventListeners: Array<() => void> = [];\n  private highlightTagElements: Array<{\n    element: HTMLElement;\n    clientRect: ClientRect;\n  }>;\n  private hoveredTag: TagMouseEvent | undefined;\n  private isDestroyed = false;\n\n  constructor(\n    private renderer: Renderer2,\n    private ngZone: NgZone,\n    private cdr: ChangeDetectorRef\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.textInputElement) {\n      this.textInputElementChanged();\n    }\n\n    if (changes.tags || changes.tagCssClass || changes.textInputValue) {\n      this.addTags();\n    }\n  }\n\n  ngOnInit(): void {\n    // TODO: flxRelativeContainer directive (wrapping component) instead?\n    this.textInputElement!.parentElement!.style['position'] = 'relative';\n    if (\n      getComputedStyle(this.textInputElement.parentElement as Element)\n        .display === 'inline'\n    ) {\n      // If textarea is direct child of a component (no DIV container)\n      this.textInputElement!.parentElement!.style['display'] = 'block';\n    }\n\n    this.textInputElement.style['background'] = 'none';\n    this.textInputElement.style['position'] = 'relative';\n    this.textInputElement.style['z-index'] = '2';\n  }\n\n  ngOnDestroy(): void {\n    this.isDestroyed = true;\n    this.textareaEventListeners.forEach((unregister) => unregister());\n  }\n\n  @HostListener('window:resize')\n  onWindowResize() {\n    this.refresh();\n  }\n\n  /**\n   * Manually call this function to refresh the highlight element if the textarea styles have changed\n   */\n  refresh() {\n    const computed: any = getComputedStyle(this.textInputElement);\n    styleProperties.forEach((prop) => {\n      this.highlightElementContainerStyle[prop] = computed[prop];\n    });\n  }\n\n  private textInputElementChanged() {\n    const elementType = this.textInputElement.tagName.toLowerCase();\n    if (elementType !== 'textarea') {\n      throw new Error(\n        'The text-input-highlight component must be passed ' +\n          'a textarea to the `textInputElement` input. Instead received a ' +\n          elementType\n      );\n    }\n\n    setTimeout(() => {\n      // in case the element was destroyed before the timeout fires\n      if (this.isDestroyed) {\n        return;\n      }\n\n      this.refresh();\n\n      this.textareaEventListeners.forEach((unregister) => unregister());\n      this.textareaEventListeners = [];\n\n      const onInput = this.renderer.listen(\n        this.textInputElement,\n        'input',\n        () => {\n          this.addTags();\n        }\n      );\n      this.textareaEventListeners.push(onInput);\n\n      const onScroll = this.renderer.listen(\n        this.textInputElement,\n        'scroll',\n        () => {\n          this.highlightElement.nativeElement.scrollTop =\n            this.textInputElement.scrollTop;\n          this.highlightTagElements = this.highlightTagElements.map((tag) => {\n            tag.clientRect = tag.element.getBoundingClientRect();\n            return tag;\n          });\n        }\n      );\n      this.textareaEventListeners.push(onScroll);\n\n      const onMouseUp = this.renderer.listen(\n        this.textInputElement,\n        'mouseup',\n        () => {\n          this.refresh();\n        }\n      );\n      this.textareaEventListeners.push(onMouseUp);\n\n      // only add event listeners if the host component actually asks for it\n      if (this.tagClick.observers.length > 0) {\n        const onClick = this.renderer.listen(\n          this.textInputElement,\n          'click',\n          (event) => {\n            this.handleTextareaMouseEvent(event, 'click');\n          }\n        );\n        this.textareaEventListeners.push(onClick);\n      }\n\n      // only add event listeners if the host component actually asks for it\n      if (this.tagMouseEnter.observers.length > 0) {\n        const onMouseMove = this.renderer.listen(\n          this.textInputElement,\n          'mousemove',\n          (event) => {\n            this.handleTextareaMouseEvent(event, 'mousemove');\n          }\n        );\n        this.textareaEventListeners.push(onMouseMove);\n\n        const onMouseLeave = this.renderer.listen(\n          this.textInputElement,\n          'mouseleave',\n          (event) => {\n            if (this.hoveredTag) {\n              this.onMouseLeave(this.hoveredTag, event);\n            }\n          }\n        );\n        this.textareaEventListeners.push(onMouseLeave);\n      }\n\n      this.addTags();\n    });\n  }\n\n  private addTags() {\n    const textInputValue =\n      typeof this.textInputValue !== 'undefined'\n        ? this.textInputValue\n        : this.textInputElement.value;\n\n    const prevTags: HighlightTag[] = [];\n    const parts: string[] = [];\n\n    [...this.tags]\n      .sort((tagA, tagB) => {\n        return tagA.indices.start - tagB.indices.start;\n      })\n      .forEach((tag) => {\n        if (tag.indices.start > tag.indices.end) {\n          throw new Error(\n            `Highlight tag with indices [${tag.indices.start}, ${tag.indices.end}] cannot start after it ends.`\n          );\n        }\n\n        prevTags.forEach((prevTag) => {\n          if (overlaps(prevTag, tag)) {\n            throw new Error(\n              `Highlight tag with indices [${tag.indices.start}, ${tag.indices.end}] overlaps with tag [${prevTag.indices.start}, ${prevTag.indices.end}]`\n            );\n          }\n        });\n\n        // TODO - implement this as an ngFor of items that is generated in the template for a cleaner solution\n\n        const expectedTagLength = tag.indices.end - tag.indices.start;\n        const tagContents = textInputValue.slice(\n          tag.indices.start,\n          tag.indices.end\n        );\n        if (tagContents.length === expectedTagLength) {\n          const previousIndex =\n            prevTags.length > 0 ? prevTags[prevTags.length - 1].indices.end : 0;\n          const before = textInputValue.slice(previousIndex, tag.indices.start);\n          parts.push(escapeHtml(before));\n          const cssClass = tag.cssClass || this.tagCssClass;\n          const tagId = tagIndexIdPrefix + this.tags.indexOf(tag);\n          // flx-text-highlight-tag-id-${id} is used instead of a data attribute to prevent an angular sanitization warning\n          parts.push(\n            `<span class=\"flx-text-highlight-tag ${tagId} ${cssClass}\">${escapeHtml(\n              tagContents\n            )}</span>`\n          );\n          prevTags.push(tag);\n        }\n      });\n    const remainingIndex =\n      prevTags.length > 0 ? prevTags[prevTags.length - 1].indices.end : 0;\n    const remaining = textInputValue.slice(remainingIndex);\n    parts.push(escapeHtml(remaining));\n    parts.push('&nbsp;');\n    this.highlightedText = parts.join('');\n    this.cdr.detectChanges();\n\n    this.highlightTagElements = Array.from(\n      this.highlightElement.nativeElement.getElementsByTagName('span')\n    ).map((element: any) => {\n      return { element, clientRect: element.getBoundingClientRect() };\n    });\n  }\n\n  private handleTextareaMouseEvent(\n    event: MouseEvent,\n    eventName: 'click' | 'mousemove'\n  ) {\n    const matchingTagIndex = this.highlightTagElements.findIndex((elm) =>\n      isCoordinateWithinRect(elm.clientRect, event.clientX, event.clientY)\n    );\n\n    if (matchingTagIndex > -1) {\n      const target = this.highlightTagElements[matchingTagIndex].element;\n      const tagClass = Array.from(target.classList).find((className) =>\n        className.startsWith(tagIndexIdPrefix)\n      );\n      if (tagClass) {\n        const tagId = tagClass.replace(tagIndexIdPrefix, '');\n        const tag: HighlightTag = this.tags[Number(tagId)];\n        const tagMouseEvent = { tag, target, event };\n\n        if (eventName === 'click') {\n          this.tagClick.emit(tagMouseEvent);\n        } else {\n          if (this.hoveredTag) {\n            if (this.hoveredTag.target !== tagMouseEvent.target) {\n              this.onMouseLeave(this.hoveredTag, event);\n              this.onMouseEnter(tagMouseEvent, event);\n            }\n          } else {\n            this.onMouseEnter(tagMouseEvent, event);\n          }\n        }\n      }\n    } else if (eventName === 'mousemove' && this.hoveredTag) {\n      this.onMouseLeave(this.hoveredTag, event);\n    }\n  }\n\n  private onMouseEnter(tag: TagMouseEvent, event: MouseEvent): void {\n    tag.event = event;\n    tag.target.classList.add('flx-text-highlight-tag-hovered');\n    this.hoveredTag = tag;\n    this.tagMouseEnter.emit(tag);\n  }\n\n  private onMouseLeave(tag: TagMouseEvent, event: MouseEvent): void {\n    tag.event = event;\n    tag.target.classList.remove('flx-text-highlight-tag-hovered');\n    this.hoveredTag = undefined;\n    this.tagMouseLeave.emit(tag);\n  }\n}\n","<div class=\"flx-text-highlight-element\"\n     [ngStyle]=\"highlightElementContainerStyle\"\n     [innerHtml]=\"highlightedText\"\n     #highlightElement></div>","import {\n  Component,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  TemplateRef,\n} from '@angular/core';\n\nimport { ChoiceWithIndices } from './text-input-autocomplete';\nimport { TagMouseEvent } from './text-input-highlight';\n\n@Component({\n  selector: 'flx-mentions',\n  templateUrl: './mentions.component.html',\n  styleUrls: ['./mentions.component.scss'],\n})\nexport class MentionsComponent implements OnInit {\n  /**\n   * Reference to the text input element\n   */\n  @Input()\n  textInputElement: HTMLTextAreaElement | HTMLInputElement;\n\n  /**\n   * Reference to the menu template\n   */\n  @Input()\n  menuTemplate!: TemplateRef<any>;\n\n  /**\n   * The character that will trigger the menu to appear\n   */\n  @Input() triggerCharacter = '@';\n\n  /**\n   * The regular expression that will match the search text after the trigger character\n   */\n  @Input() searchRegexp = /^\\w*$/;\n\n  /**\n   * Whether to close the menu when the host textInputElement loses focus\n   */\n  @Input() closeMenuOnBlur = false;\n\n  /**\n   * Selected choices (required in editing mode in order to keep track of choices)\n   */\n  @Input() selectedChoices: any[] = [];\n\n  /**\n   * A function that formats the selected choice once selected.\n   * The result (label) is also used as a choice identifier (e.g. when editing choices)\n   */\n  @Input()\n  getChoiceLabel!: (choice: any) => string;\n\n  /**\n   * Called when the options menu is shown\n   */\n  @Output() menuShow = new EventEmitter();\n\n  /**\n   * Called when the options menu is hidden\n   */\n  @Output() menuHide = new EventEmitter();\n\n  /**\n   * Called when a choice is selected\n   */\n  @Output() choiceSelected = new EventEmitter<ChoiceWithIndices>();\n\n  /**\n   * Called when a choice is removed\n   */\n  @Output() choiceRemoved = new EventEmitter<ChoiceWithIndices>();\n\n  /**\n   * Called when a choice is selected, removed, or if any of the choices' indices change\n   */\n  @Output() selectedChoicesChange = new EventEmitter<ChoiceWithIndices[]>();\n\n  /**\n   * Called on user input after entering trigger character. Emits search term to search by\n   */\n  @Output() search = new EventEmitter<string>();\n\n  // --- text-input-highlight.component inputs/outputs ---\n  /**\n   * The CSS class to add to highlighted tags\n   */\n  @Input() tagCssClass: string = '';\n\n  /**\n   * Called when the area over a tag is clicked\n   */\n  @Output() tagClick = new EventEmitter<TagMouseEvent>();\n\n  /**\n   * Called when the area over a tag is moused over\n   */\n  @Output() tagMouseEnter = new EventEmitter<TagMouseEvent>();\n\n  /**\n   * Called when the area over the tag has the mouse is removed from it\n   */\n  @Output() tagMouseLeave = new EventEmitter<TagMouseEvent>();\n\n  selectedCwis: ChoiceWithIndices[] = [];\n\n  constructor() {}\n\n  ngOnInit(): void {}\n\n  onSelectedChoicesChange(cwis: ChoiceWithIndices[]): void {\n    this.selectedCwis = cwis;\n    this.selectedChoicesChange.emit(cwis);\n  }\n}\n","<flx-text-input-autocomplete [textInputElement]=\"textInputElement\" [menuTemplate]=\"menuTemplate\"\n  [triggerCharacter]=\"triggerCharacter\" [searchRegexp]=\"searchRegexp\" [closeMenuOnBlur]=\"closeMenuOnBlur\"\n  [getChoiceLabel]=\"getChoiceLabel\" [selectedChoices]=\"selectedChoices\" (search)=\"search.emit($event)\"\n  (choiceSelected)=\"choiceSelected.emit($event)\" (choiceRemoved)=\"choiceRemoved.emit($event)\"\n  (selectedChoicesChange)=\"onSelectedChoicesChange($event)\" (menuShow)=\"menuShow.emit()\"\n  (menuHide)=\"menuHide.emit()\"></flx-text-input-autocomplete>\n\n<flx-text-input-highlight [textInputElement]=\"textInputElement\" [tags]=\"selectedCwis\" [tagCssClass]=\"tagCssClass\"\n  (tagClick)=\"tagClick.emit($event)\" (tagMouseEnter)=\"tagMouseEnter.emit($event)\"\n  (tagMouseLeave)=\"tagMouseLeave.emit($event)\"></flx-text-input-highlight>","import { Component, ElementRef, HostListener, ViewChild } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'flx-text-input-autocomplete-menu',\n  template: `\n    <ul\n      *ngIf=\"choices?.length\"\n      #dropdownMenu\n      class=\"dropdown-menu\"\n      [style.top.px]=\"position?.top\"\n      [style.left.px]=\"position?.left\"\n    >\n      <li *ngFor=\"let choice of choices; trackBy: trackById\" [class.active]=\"activeChoice === choice\">\n        <a href=\"javascript:;\" (click)=\"selectChoice.next(choice)\">\n          {{ choice.name }}\n        </a>\n      </li>\n    </ul>\n  `,\n  styles: [\n    `\n      .dropdown-menu {\n        display: block;\n        max-height: 200px;\n        overflow-y: auto;\n      }\n    `,\n  ],\n})\nexport class TextInputAutocompleteMenuComponent {\n  @ViewChild('dropdownMenu', { static: false }) dropdownMenuElement: ElementRef<HTMLUListElement>;\n  position: { top: number; left: number };\n  selectChoice = new Subject();\n  activeChoice: any;\n  searchText: string;\n  choiceLoadError: any;\n  choiceLoading = false;\n  private _choices: any[];\n\n  constructor(public elementRef: ElementRef) {}\n\n  trackById = (index: number, choice: any) => (typeof choice.id !== 'undefined' ? choice.id : choice);\n\n  set choices(choices: any[]) {\n    this._choices = choices;\n    if (choices.indexOf(this.activeChoice) === -1 && choices.length > 0) {\n      this.activeChoice = choices[0];\n    }\n  }\n\n  get choices() {\n    return this._choices;\n  }\n\n  @HostListener('document:keydown.ArrowDown', ['$event'])\n  onArrowDown(event: KeyboardEvent) {\n    event.preventDefault();\n    const index = this.choices.indexOf(this.activeChoice);\n    if (this.choices[index + 1]) {\n      this.scrollToChoice(index + 1);\n    }\n  }\n\n  @HostListener('document:keydown.ArrowUp', ['$event'])\n  onArrowUp(event: KeyboardEvent) {\n    event.preventDefault();\n    const index = this.choices.indexOf(this.activeChoice);\n    if (this.choices[index - 1]) {\n      this.scrollToChoice(index - 1);\n    }\n  }\n\n  @HostListener('document:keydown.Enter', ['$event'])\n  onEnter(event: KeyboardEvent) {\n    if (this.choices.indexOf(this.activeChoice) > -1) {\n      event.preventDefault();\n      this.selectChoice.next(this.activeChoice);\n    }\n  }\n\n  private scrollToChoice(index: number) {\n    this.activeChoice = this._choices[index];\n\n    if (this.dropdownMenuElement) {\n      const ulPosition = this.dropdownMenuElement.nativeElement.getBoundingClientRect();\n      const li = this.dropdownMenuElement.nativeElement.children[index];\n      const liPosition = li.getBoundingClientRect();\n\n      if (liPosition.top < ulPosition.top || liPosition.bottom > ulPosition.bottom) {\n        li.scrollIntoView({\n          behavior: 'smooth',\n          block: 'nearest',\n        });\n      }\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TextInputAutocompleteComponent } from './text-input-autocomplete.component';\nimport { TextInputAutocompleteMenuComponent } from './text-input-autocomplete-menu.component';\n\n@NgModule({\n  declarations: [\n    TextInputAutocompleteComponent,\n    TextInputAutocompleteMenuComponent\n  ],\n  imports: [CommonModule],\n  exports: [\n    TextInputAutocompleteComponent,\n    TextInputAutocompleteMenuComponent\n  ],\n  entryComponents: [TextInputAutocompleteMenuComponent]\n})\nexport class TextInputAutocompleteModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TextInputHighlightComponent } from './text-input-highlight.component';\n\n@NgModule({\n  declarations: [\n    TextInputHighlightComponent,\n  ],\n  imports: [CommonModule],\n  exports: [\n    TextInputHighlightComponent,\n  ]\n})\nexport class TextInputHighlightModule {}\n","import { NgModule } from '@angular/core';\n\nimport { TextInputAutocompleteModule } from './text-input-autocomplete';\nimport { TextInputHighlightModule } from './text-input-highlight';\n\nimport { MentionsComponent } from './mentions.component';\n\n@NgModule({\n  declarations: [MentionsComponent],\n  imports: [TextInputAutocompleteModule, TextInputHighlightModule],\n  exports: [\n    MentionsComponent,\n    TextInputAutocompleteModule,\n    TextInputHighlightModule,\n  ],\n})\nexport class MentionsModule {}\n","/*\n * Public API Surface of mentions\n */\n\nexport * from './lib/index';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["EventEmitter","i0","i1","Component","Input","Output","ViewEncapsulation","ViewChild","HostListener","i1.TextInputAutocompleteComponent","i2.TextInputHighlightComponent","Subject","CommonModule","NgModule"],"mappings":"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"}