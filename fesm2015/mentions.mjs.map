{"version":3,"file":"mentions.mjs","sources":["../../../projects/mentions/src/lib/text-input-autocomplete/textarea-caret-position.ts","../../../projects/mentions/src/lib/text-input-autocomplete/text-input-autocomplete.component.ts","../../../projects/mentions/src/lib/text-input-autocomplete/text-input-autocomplete.component.html","../../../projects/mentions/src/lib/text-input-highlight/text-input-highlight.component.ts","../../../projects/mentions/src/lib/text-input-highlight/text-input-highlight.component.html","../../../projects/mentions/src/lib/mentions.component.ts","../../../projects/mentions/src/lib/mentions.component.html","../../../projects/mentions/src/lib/text-input-autocomplete/text-input-autocomplete-menu.component.ts","../../../projects/mentions/src/lib/text-input-autocomplete/text-input-autocomplete.module.ts","../../../projects/mentions/src/lib/text-input-highlight/text-input-highlight.module.ts","../../../projects/mentions/src/lib/mentions.module.ts","../../../projects/mentions/src/public-api.ts","../../../projects/mentions/src/mentions.ts"],"sourcesContent":["/* jshint browser: true */\n\n// We'll copy the properties below into the mirror div.\n// Note that some browsers, such as Firefox, do not concatenate properties\n// into their shorthand (e.g. padding-top, padding-bottom etc. -> padding),\n// so we have to list every single property explicitly.\nlet properties = [\n  'direction', // RTL support\n  'boxSizing',\n  'width', // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n  'height',\n  'overflowX',\n  'overflowY', // copy the scrollbar for IE\n\n  'borderTopWidth',\n  'borderRightWidth',\n  'borderBottomWidth',\n  'borderLeftWidth',\n  'borderStyle',\n\n  'paddingTop',\n  'paddingRight',\n  'paddingBottom',\n  'paddingLeft',\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n  'fontStyle',\n  'fontVariant',\n  'fontWeight',\n  'fontStretch',\n  'fontSize',\n  'fontSizeAdjust',\n  'lineHeight',\n  'fontFamily',\n\n  'textAlign',\n  'textTransform',\n  'textIndent',\n  'textDecoration', // might not make a difference, but better be safe\n\n  'letterSpacing',\n  'wordSpacing',\n\n  'tabSize',\n  'MozTabSize',\n];\n\nfunction isBrowser() {\n  return typeof window !== 'undefined';\n}\n\nfunction isFirefox() {\n  return isBrowser() && (window as any).mozInnerScreenX != null;\n}\n\nexport function getCaretCoordinates(\n  element: any,\n  position: number | null,\n  options: any = {}\n) {\n  if (!isBrowser()) {\n    throw new Error(\n      'textarea-caret-position#getCaretCoordinates should only be called in a browser'\n    );\n  }\n\n  let debug = (options && options.debug) || false;\n  if (debug) {\n    let el = document.querySelector(\n      '#input-textarea-caret-position-mirror-div'\n    );\n    if (el) el?.parentNode?.removeChild(el);\n  }\n\n  // The mirror div will replicate the textarea's style\n  let div = document.createElement('div');\n  div.id = 'input-textarea-caret-position-mirror-div';\n  document.body.appendChild(div);\n\n  let style = div.style;\n  let computed = window.getComputedStyle\n    ? window.getComputedStyle(element)\n    : element.currentStyle; // currentStyle for IE < 9\n  let isInput = element.nodeName === 'INPUT';\n\n  // Default textarea styles\n  style.whiteSpace = 'pre-wrap';\n  if (!isInput) style.wordWrap = 'break-word'; // only for textarea-s\n\n  // Position off-screen\n  style.position = 'absolute'; // required to return coordinates properly\n  if (!debug) style.visibility = 'hidden'; // not 'display: none' because we want rendering\n\n  // Transfer the element's properties to the div\n  properties.forEach(function (prop: any) {\n    if (isInput && prop === 'lineHeight') {\n      // Special case for <input>s because text is rendered centered and line height may be != height\n      if (computed.boxSizing === 'border-box') {\n        let height = parseInt(computed.height);\n        let outerHeight =\n          parseInt(computed.paddingTop) +\n          parseInt(computed.paddingBottom) +\n          parseInt(computed.borderTopWidth) +\n          parseInt(computed.borderBottomWidth);\n        let targetHeight = outerHeight + parseInt(computed.lineHeight);\n        if (height > targetHeight) {\n          style.lineHeight = height - outerHeight + 'px';\n        } else if (height === targetHeight) {\n          style.lineHeight = computed.lineHeight;\n        } else {\n          style.lineHeight = '0';\n        }\n      } else {\n        style.lineHeight = computed.height;\n      }\n    } else {\n      style[prop] = computed[prop];\n    }\n  });\n\n  if (isFirefox()) {\n    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n    if (element.scrollHeight > parseInt(computed.height))\n      style.overflowY = 'scroll';\n  } else {\n    style.overflow = 'hidden'; // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n  }\n\n  div.textContent = element.value.substring(0, position);\n  // The second special handling for input type=\"text\" vs textarea:\n  // spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n  if (isInput) div.textContent = div.textContent!.replace(/\\s/g, '\\u00a0');\n\n  let span = document.createElement('span');\n  // Wrapping must be replicated *exactly*, including when a long word gets\n  // onto the next line, with whitespace at the end of the line before (#7).\n  // The  *only* reliable way to do that is to copy the *entire* rest of the\n  // textarea's content into the <span> created at the caret position.\n  // For inputs, just '.' would be enough, but no need to bother.\n  span.textContent = element.value.substring(position) || '.'; // || because a completely empty faux span doesn't render at all\n  div.appendChild(span);\n\n  let coordinates = {\n    top: span.offsetTop + parseInt(computed['borderTopWidth']),\n    left: span.offsetLeft + parseInt(computed['borderLeftWidth']),\n    height: parseInt(computed['lineHeight']),\n  };\n\n  if (debug) {\n    span.style.backgroundColor = '#aaa';\n  } else {\n    document.body.removeChild(div);\n  }\n\n  return coordinates;\n}\n\n// if (typeof module != 'undefined' && typeof module.exports != 'undefined') {\n//   module.exports = getCaretCoordinates;\n// } else if (isBrowser()) {\n//   (window as any).getCaretCoordinates = getCaretCoordinates;\n// }\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef,\n} from '@angular/core';\n\nimport { getCaretCoordinates } from './textarea-caret-position';\n// @ts-ignore\n// import toPX from 'to-px';\n\nexport interface ChoiceWithIndices {\n  choice: any;\n  indices: {\n    start: number;\n    end: number;\n  };\n}\n\n@Component({\n  selector: 'flx-text-input-autocomplete',\n  templateUrl: './text-input-autocomplete.component.html',\n  styleUrls: ['./text-input-autocomplete.component.scss'],\n})\nexport class TextInputAutocompleteComponent\n  implements OnChanges, OnInit, OnDestroy\n{\n  /**\n   * Reference to the text input element.\n   */\n  @Input()\n  textInputElement: HTMLTextAreaElement | HTMLInputElement;\n\n  /**\n   * Reference to the menu template (used to display the search results).\n   */\n  @Input()\n  menuTemplate!: TemplateRef<any>;\n\n  /**\n   * The character which will trigger the search.\n   */\n  @Input() triggerCharacter = '@';\n\n  /**\n   * The regular expression that will match the search text after the trigger character.\n   * No match will hide the menu.\n   */\n  @Input() searchRegexp: RegExp = /^\\w*$/;\n\n  /**\n   * Whether to close the menu when the host textInputElement loses focus.\n   */\n  @Input() closeMenuOnBlur = false;\n\n  /**\n   * Pre-set choices for edit text mode, or to select/mark choices from outside the mentions component.\n   */\n  @Input() selectedChoices: any[] = [];\n\n  /**\n   * A function that formats the selected choice once selected.\n   * The result (label) is also used as a choice identifier (e.g. when editing choices).\n   */\n  @Input()\n  getChoiceLabel!: (choice: any) => string;\n\n  /**\n   * Called when the choices menu is shown.\n   */\n  @Output() menuShow = new EventEmitter();\n\n  /**\n   * Called when the choices menu is hidden.\n   */\n  @Output() menuHide = new EventEmitter();\n\n  /**\n   * Called when a choice is selected.\n   */\n  @Output() choiceSelected = new EventEmitter<ChoiceWithIndices>();\n\n  /**\n   * Called when a choice is removed.\n   */\n  @Output() choiceRemoved = new EventEmitter<ChoiceWithIndices>();\n\n  /**\n   * Called when a choice is selected, removed, or if any of the choices' indices change.\n   */\n  @Output() selectedChoicesChange = new EventEmitter<ChoiceWithIndices[]>();\n\n  /**\n   * Called on user input after entering trigger character. Emits search term to search by.\n   */\n  @Output() search = new EventEmitter<string>();\n\n  private _eventListeners: Array<() => void> = [];\n\n  private _selectedCwis: ChoiceWithIndices[] = [];\n  private _dumpedCwis: ChoiceWithIndices[] = [];\n  private _editingCwi: ChoiceWithIndices;\n\n  menuCtrl?: {\n    template: TemplateRef<any>;\n    context: any;\n    position: {\n      top: number;\n      left: number;\n    };\n    triggerCharacterPosition: number;\n    lastCaretPosition?: number;\n  };\n\n  constructor(private ngZone: NgZone, private renderer: Renderer2) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.selectedChoices) {\n      if (Array.isArray(this.selectedChoices)) {\n        /**\n         * Timeout needed since ngOnChanges is fired before the textInputElement value is updated.\n         * The problem is specific to publisher.landing component implementation, i.e. single\n         * textarea element is used for each account, only text changes..\n         * Use ngZone.runOutsideAngular to optimize the timeout so it doesn't fire\n         * global change detection events continuously..\n         */\n        this.ngZone.runOutsideAngular(() => {\n          setTimeout(() => {\n            const selectedCwisPrevious = JSON.stringify(this._selectedCwis);\n\n            this._selectedCwis = this.selectedChoices.map((c) => {\n              return {\n                choice: c,\n                indices: { start: -1, end: -1 },\n              };\n            });\n            this.updateIndices();\n\n            // Remove choices that index couldn't be found for\n            this._selectedCwis = this._selectedCwis.filter(\n              (cwi) => cwi.indices.start > -1\n            );\n\n            if (JSON.stringify(this._selectedCwis) !== selectedCwisPrevious) {\n              // TODO: Should check for indices change only (ignoring the changes inside choice object)\n              this.ngZone.run(() => {\n                this.selectedChoicesChange.emit(this._selectedCwis);\n              });\n            }\n          });\n        });\n      }\n    }\n  }\n\n  ngOnInit() {\n    const onKeydown = this.renderer.listen(\n      this.textInputElement,\n      'keydown',\n      (event) => this.onKeydown(event)\n    );\n    this._eventListeners.push(onKeydown);\n\n    const onInput = this.renderer.listen(\n      this.textInputElement,\n      'input',\n      (event) => this.onInput(event)\n    );\n    this._eventListeners.push(onInput);\n\n    const onBlur = this.renderer.listen(\n      this.textInputElement,\n      'blur',\n      (event) => this.onBlur(event)\n    );\n    this._eventListeners.push(onBlur);\n\n    const onClick = this.renderer.listen(\n      this.textInputElement,\n      'click',\n      (event) => this.onClick(event)\n    );\n    this._eventListeners.push(onClick);\n  }\n\n  ngOnDestroy() {\n    this.hideMenu();\n    this._eventListeners.forEach((unregister) => unregister());\n  }\n\n  onKeydown(event: KeyboardEvent): void {\n    const cursorPosition = this.textInputElement.selectionStart;\n    const precedingChar = this.textInputElement.value.charAt(\n      cursorPosition! - 1\n    );\n\n    if (\n      event.key === this.triggerCharacter &&\n      precedingCharValid(precedingChar)\n    ) {\n      this.showMenu();\n      return;\n    }\n\n    const keyCode = event.keyCode || event.charCode;\n    if (keyCode === 8 || keyCode === 46) {\n      // backspace or delete\n      const cwiToEdit = this._selectedCwis.find((cwi) => {\n        const label = this.getChoiceLabel(cwi.choice);\n        const labelEndIndex = this.getChoiceIndex(label) + label.length;\n        return cursorPosition === labelEndIndex;\n      });\n\n      if (cwiToEdit) {\n        this.editChoice(cwiToEdit.choice);\n      }\n    }\n  }\n\n  onInput(event: any): void {\n    const value = event.target.value;\n    const selectedCwisPrevious = JSON.stringify(this._selectedCwis);\n\n    if (!this.menuCtrl) {\n      // dump choices that are removed from the text (e.g. select all + paste),\n      // and/or retrieve them if user e.g. UNDO the action\n      // BUG: if text that contains mentions is selected and deleted using trigger char, no choices will be dumped (this.menuCtrl will be defined)!\n      this.dumpNonExistingChoices();\n      this.retrieveExistingChoices();\n      this.updateIndices();\n      if (JSON.stringify(this._selectedCwis) !== selectedCwisPrevious) {\n        // TODO: Should probably check for indices change only (ignoring the changes inside choice object)\n        this.selectedChoicesChange.emit(this._selectedCwis);\n      }\n      return;\n    }\n\n    this.updateIndices();\n    if (JSON.stringify(this._selectedCwis) !== selectedCwisPrevious) {\n      this.selectedChoicesChange.emit(this._selectedCwis);\n    }\n\n    if (\n      value[this.menuCtrl.triggerCharacterPosition] !== this.triggerCharacter\n    ) {\n      this.hideMenu();\n      return;\n    }\n\n    const cursorPosition = this.textInputElement.selectionStart;\n    if (cursorPosition! < this.menuCtrl.triggerCharacterPosition) {\n      this.hideMenu();\n      return;\n    }\n\n    const searchText = value.slice(\n      this.menuCtrl.triggerCharacterPosition + 1,\n      cursorPosition\n    );\n    if (!searchText.match(this.searchRegexp)) {\n      this.hideMenu();\n      return;\n    }\n\n    this.search.emit(searchText);\n  }\n\n  onBlur(event: FocusEvent): void {\n    if (!this.menuCtrl) {\n      return;\n    }\n\n    this.menuCtrl.lastCaretPosition = this.textInputElement\n      .selectionStart as number;\n\n    if (this.closeMenuOnBlur) {\n      this.hideMenu();\n    }\n  }\n\n  onClick(event: MouseEvent): void {\n    if (!this.menuCtrl) {\n      return;\n    }\n\n    const cursorPosition = this.textInputElement.selectionStart;\n    if (cursorPosition! <= this.menuCtrl.triggerCharacterPosition) {\n      this.hideMenu();\n      return;\n    }\n\n    const searchText = this.textInputElement.value.slice(\n      this.menuCtrl.triggerCharacterPosition + 1,\n      cursorPosition!\n    );\n    if (!searchText.match(this.searchRegexp)) {\n      this.hideMenu();\n      return;\n    }\n  }\n\n  private hideMenu() {\n    if (!this.menuCtrl) {\n      return;\n    }\n\n    this.menuCtrl = undefined;\n    this.menuHide.emit();\n\n    if (this._editingCwi) {\n      // If user didn't make any changes to it, add it back to the selected choices\n      const label = this.getChoiceLabel(this._editingCwi.choice);\n      const labelExists = this.getChoiceIndex(label + ' ') > -1;\n      const choiceExists = this._selectedCwis.find(\n        (cwi) => this.getChoiceLabel(cwi.choice) === label\n      );\n      if (labelExists && !choiceExists) {\n        this.addToSelected(this._editingCwi);\n        this.updateIndices();\n        this.selectedChoicesChange.emit(this._selectedCwis);\n      }\n    }\n    this._editingCwi = undefined as unknown as ChoiceWithIndices;\n  }\n\n  private showMenu() {\n    if (this.menuCtrl) {\n      return;\n    }\n\n    const lineHeight = this.getLineHeight(this.textInputElement);\n    const { top, left } = getCaretCoordinates(\n      this.textInputElement,\n      this.textInputElement.selectionStart\n    );\n\n    this.menuCtrl = {\n      template: this.menuTemplate,\n      context: {\n        selectChoice: this.selectChoice,\n        // $implicit: {\n        //   selectChoice: this.selectChoice\n        // },\n      },\n      position: {\n        top: top + lineHeight,\n        left: left,\n      },\n      triggerCharacterPosition: this.textInputElement.selectionStart as number,\n    };\n\n    this.menuShow.emit();\n  }\n\n  selectChoice = (choice: any) => {\n    const label = this.getChoiceLabel(choice);\n    const startIndex = this.menuCtrl!.triggerCharacterPosition;\n    const start = this.textInputElement.value.slice(0, startIndex);\n    const caretPosition =\n      this.menuCtrl!.lastCaretPosition || this.textInputElement.selectionStart;\n    const end = this.textInputElement.value.slice(caretPosition!);\n    const insertValue = label + ' ';\n    this.textInputElement.value = start + insertValue + end;\n    // force ng model / form control to update\n    this.textInputElement.dispatchEvent(new Event('input'));\n\n    const setCursorAt = (start + insertValue).length;\n    this.textInputElement.setSelectionRange(setCursorAt, setCursorAt);\n    this.textInputElement.focus();\n\n    const choiceWithIndices = {\n      choice,\n      indices: {\n        start: startIndex,\n        end: startIndex + label.length,\n      },\n    };\n\n    this.addToSelected(choiceWithIndices);\n    this.updateIndices();\n    this.selectedChoicesChange.emit(this._selectedCwis);\n\n    this.hideMenu();\n  };\n\n  editChoice(choice: any): void {\n    const label = this.getChoiceLabel(choice);\n    const startIndex = this.getChoiceIndex(label);\n    const endIndex = startIndex + label.length;\n\n    this._editingCwi = this._selectedCwis.find(\n      (cwi) => this.getChoiceLabel(cwi.choice) === label\n    ) as ChoiceWithIndices;\n    this.removeFromSelected(this._editingCwi);\n    this.selectedChoicesChange.emit(this._selectedCwis);\n\n    this.textInputElement.focus();\n    this.textInputElement.setSelectionRange(endIndex, endIndex);\n\n    this.showMenu();\n    this.menuCtrl!.triggerCharacterPosition = startIndex;\n\n    // TODO: editValue to be provided externally?\n    const editValue = label.replace(this.triggerCharacter, '');\n    this.search.emit(editValue);\n  }\n\n  dumpNonExistingChoices(): void {\n    const choicesToDump = this._selectedCwis.filter((cwi) => {\n      const label = this.getChoiceLabel(cwi.choice);\n      return this.getChoiceIndex(label) === -1;\n    });\n\n    if (choicesToDump.length) {\n      choicesToDump.forEach((cwi) => {\n        this.removeFromSelected(cwi);\n        this._dumpedCwis.push(cwi);\n      });\n    }\n  }\n\n  retrieveExistingChoices(): void {\n    const choicesToRetrieve = this._dumpedCwis.filter((dcwi) => {\n      const label = this.getChoiceLabel(dcwi.choice);\n      const labelExists = this.getChoiceIndex(label) > -1;\n      const choiceExists = this._selectedCwis.find(\n        (scwi) => this.getChoiceLabel(scwi.choice) === label\n      );\n      return labelExists && !choiceExists;\n    });\n\n    if (choicesToRetrieve.length) {\n      choicesToRetrieve.forEach((c) => {\n        this.addToSelected(c);\n        this._dumpedCwis.splice(this._dumpedCwis.indexOf(c), 1);\n      });\n    }\n  }\n\n  addToSelected(cwi: ChoiceWithIndices): void {\n    const exists = this._selectedCwis.some(\n      (scwi) =>\n        this.getChoiceLabel(scwi.choice) === this.getChoiceLabel(cwi.choice)\n    );\n\n    if (!exists) {\n      this._selectedCwis.push(cwi);\n      this.choiceSelected.emit(cwi);\n    }\n  }\n\n  removeFromSelected(cwi: ChoiceWithIndices): void {\n    const exists = this._selectedCwis.some(\n      (scwi) =>\n        this.getChoiceLabel(scwi.choice) === this.getChoiceLabel(cwi.choice)\n    );\n\n    if (exists) {\n      this._selectedCwis.splice(this._selectedCwis.indexOf(cwi), 1);\n      this.choiceRemoved.emit(cwi);\n    }\n  }\n\n  getLineHeight(elm: HTMLElement): number {\n    const lineHeightStr = getComputedStyle(elm).lineHeight || '';\n    const lineHeight = parseFloat(lineHeightStr);\n    const normalLineHeight = 1.2;\n\n    const fontSizeStr = getComputedStyle(elm).fontSize || '';\n    // const fontSize = +toPX(fontSizeStr);\n    const fontSize = parseFloat(fontSizeStr);\n\n    if (lineHeightStr === lineHeight + '') {\n      return fontSize * lineHeight;\n    }\n\n    if (lineHeightStr.toLowerCase() === 'normal') {\n      return fontSize * normalLineHeight;\n    }\n\n    // return toPX(lineHeightStr);\n    return parseFloat(lineHeightStr);\n  }\n\n  getChoiceIndex(label: string): number {\n    const text = this.textInputElement && this.textInputElement.value;\n    const labels = this._selectedCwis.map((cwi) =>\n      this.getChoiceLabel(cwi.choice)\n    );\n\n    return getChoiceIndex(text, label, labels);\n  }\n\n  updateIndices(): void {\n    this._selectedCwis = this._selectedCwis.map((cwi) => {\n      const label = this.getChoiceLabel(cwi.choice);\n      const index = this.getChoiceIndex(label);\n      return {\n        choice: cwi.choice,\n        indices: {\n          start: index,\n          end: index + label.length,\n        },\n      };\n    });\n  }\n}\n\nexport function getChoiceIndex(\n  text: string,\n  label: string,\n  labels: string[]\n): number {\n  text = text || '';\n\n  labels.forEach((l) => {\n    // Mask other labels that contain given label,\n    // e.g. if the given label is '@TED', mask '@TEDEducation' label\n    if (l !== label && l.indexOf(label) > -1) {\n      text = text.replace(new RegExp(l, 'g'), '*'.repeat(l.length));\n    }\n  });\n\n  return findStringIndex(text, label, (startIndex, endIndex) => {\n    // Only labels that are preceded with below defined chars are valid,\n    // (avoid 'labels' found in e.g. links being mistaken for choices)\n    const precedingChar = text[startIndex - 1];\n    return (\n      precedingCharValid(precedingChar) ||\n      text.slice(startIndex - 4, startIndex) === '<br>'\n    );\n  });\n}\n\nexport function precedingCharValid(char: string): boolean {\n  return !char || char === '\\n' || char === ' ' || char === '(';\n}\n\n// TODO: move to common!\nexport function findStringIndex(\n  text: string,\n  value: string,\n  callback: (startIndex: number, endIndex: number) => boolean\n): number {\n  let index = text.indexOf(value);\n  if (index === -1) {\n    return -1;\n  }\n\n  let conditionMet = callback(index, index + value.length);\n\n  while (!conditionMet && index > -1) {\n    index = text.indexOf(value, index + 1);\n    conditionMet = callback(index, index + value.length);\n  }\n\n  return index;\n}\n","<div *ngIf=\"menuCtrl\" class=\"menu-template-container\">\n   <ng-container *ngTemplateOutlet=\"menuTemplate; context: menuCtrl.context\"></ng-container>","import {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport { HighlightTag } from './highlight-tag.interface';\n\nconst styleProperties = Object.freeze([\n  'direction', // RTL support\n  'boxSizing',\n  'width', // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n  'height',\n  'overflowX',\n  'overflowY', // copy the scrollbar for IE\n\n  'borderTopWidth',\n  'borderRightWidth',\n  'borderBottomWidth',\n  'borderLeftWidth',\n  'borderStyle',\n\n  'paddingTop',\n  'paddingRight',\n  'paddingBottom',\n  'paddingLeft',\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n  'fontStyle',\n  'fontVariant',\n  'fontWeight',\n  'fontStretch',\n  'fontSize',\n  'fontSizeAdjust',\n  'lineHeight',\n  'fontFamily',\n\n  'textAlign',\n  'textTransform',\n  'textIndent',\n  'textDecoration', // might not make a difference, but better be safe\n\n  'letterSpacing',\n  'wordSpacing',\n\n  'tabSize',\n  'MozTabSize',\n]);\n\nconst tagIndexIdPrefix = 'flx-text-highlight-tag-id-';\n\nfunction indexIsInsideTag(index: number, tag: HighlightTag) {\n  return tag.indices.start < index && index < tag.indices.end;\n}\n\nfunction overlaps(tagA: HighlightTag, tagB: HighlightTag) {\n  return (\n    indexIsInsideTag(tagB.indices.start, tagA) ||\n    indexIsInsideTag(tagB.indices.end, tagA)\n  );\n}\n\nfunction isCoordinateWithinRect(rect: ClientRect, x: number, y: number) {\n  return rect.left < x && x < rect.right && rect.top < y && y < rect.bottom;\n}\n\nfunction escapeHtml(str: string): string {\n  return str.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\n\nexport interface TagMouseEvent {\n  tag: HighlightTag;\n  target: HTMLElement;\n  event: MouseEvent;\n}\n\n@Component({\n  selector: 'flx-text-input-highlight',\n  templateUrl: './text-input-highlight.component.html',\n  styleUrls: ['./text-input-highlight.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class TextInputHighlightComponent implements OnChanges, OnDestroy {\n  /**\n   * An array of indices of the textarea value to highlight.\n   */\n  @Input() tags: HighlightTag[] = [];\n\n  /**\n   * The textarea to highlight.\n   */\n  @Input() textInputElement: HTMLTextAreaElement;\n\n  /**\n   * The textarea value, in not provided will fall back to trying to grab it automatically from the textarea.\n   */\n  @Input() textInputValue: string;\n\n  /**\n   * The CSS class to add to highlighted tags.\n   */\n  @Input() tagCssClass: string = '';\n\n  /**\n   * Called when the area over a tag is clicked.\n   */\n  @Output() tagClick = new EventEmitter<TagMouseEvent>();\n\n  /**\n   * Called when the area over a tag is moused over.\n   */\n  @Output() tagMouseEnter = new EventEmitter<TagMouseEvent>();\n\n  /**\n   * Called when the area over the tag has the mouse removed from it.\n   */\n  @Output() tagMouseLeave = new EventEmitter<TagMouseEvent>();\n\n  @ViewChild('highlightElement', { static: true })\n  private highlightElement: ElementRef;\n\n  highlightElementContainerStyle: { [key: string]: string } = {};\n  highlightedText: string;\n\n  private textareaEventListeners: Array<() => void> = [];\n  private highlightTagElements: Array<{\n    element: HTMLElement;\n    clientRect: ClientRect;\n  }>;\n  private hoveredTag: TagMouseEvent | undefined;\n  private isDestroyed = false;\n\n  constructor(\n    private renderer: Renderer2,\n    private ngZone: NgZone,\n    private cdr: ChangeDetectorRef\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.textInputElement) {\n      this.textInputElementChanged();\n    }\n\n    if (changes.tags || changes.tagCssClass || changes.textInputValue) {\n      this.addTags();\n    }\n  }\n\n  ngOnInit(): void {\n    // TODO: flxRelativeContainer directive (wrapping component) instead?\n    this.textInputElement!.parentElement!.style['position'] = 'relative';\n    if (\n      getComputedStyle(this.textInputElement.parentElement as Element)\n        .display === 'inline'\n    ) {\n      // If textarea is direct child of a component (no DIV container)\n      this.textInputElement!.parentElement!.style['display'] = 'block';\n    }\n\n    this.textInputElement.style['background'] = 'none';\n    this.textInputElement.style['position'] = 'relative';\n    this.textInputElement.style['z-index'] = '2';\n  }\n\n  ngOnDestroy(): void {\n    this.isDestroyed = true;\n    this.textareaEventListeners.forEach((unregister) => unregister());\n  }\n\n  @HostListener('window:resize')\n  onWindowResize() {\n    this.refresh();\n  }\n\n  /**\n   * Manually call this function to refresh the highlight element if the textarea styles have changed\n   */\n  refresh() {\n    const computed: any = getComputedStyle(this.textInputElement);\n    styleProperties.forEach((prop) => {\n      this.highlightElementContainerStyle[prop] = computed[prop];\n    });\n  }\n\n  private textInputElementChanged() {\n    const elementType = this.textInputElement.tagName.toLowerCase();\n    if (elementType !== 'textarea') {\n      throw new Error(\n        'The text-input-highlight component must be passed ' +\n          'a textarea to the `textInputElement` input. Instead received a ' +\n          elementType\n      );\n    }\n\n    setTimeout(() => {\n      // in case the element was destroyed before the timeout fires\n      if (this.isDestroyed) {\n        return;\n      }\n\n      this.refresh();\n\n      this.textareaEventListeners.forEach((unregister) => unregister());\n      this.textareaEventListeners = [];\n\n      const onInput = this.renderer.listen(\n        this.textInputElement,\n        'input',\n        () => {\n          this.addTags();\n        }\n      );\n      this.textareaEventListeners.push(onInput);\n\n      const onScroll = this.renderer.listen(\n        this.textInputElement,\n        'scroll',\n        () => {\n          this.highlightElement.nativeElement.scrollTop =\n            this.textInputElement.scrollTop;\n          this.highlightTagElements = this.highlightTagElements.map((tag) => {\n            tag.clientRect = tag.element.getBoundingClientRect();\n            return tag;\n          });\n        }\n      );\n      this.textareaEventListeners.push(onScroll);\n\n      const onMouseUp = this.renderer.listen(\n        this.textInputElement,\n        'mouseup',\n        () => {\n          this.refresh();\n        }\n      );\n      this.textareaEventListeners.push(onMouseUp);\n\n      // only add event listeners if the host component actually asks for it\n      if (this.tagClick.observers.length > 0) {\n        const onClick = this.renderer.listen(\n          this.textInputElement,\n          'click',\n          (event) => {\n            this.handleTextareaMouseEvent(event, 'click');\n          }\n        );\n        this.textareaEventListeners.push(onClick);\n      }\n\n      // only add event listeners if the host component actually asks for it\n      if (this.tagMouseEnter.observers.length > 0) {\n        const onMouseMove = this.renderer.listen(\n          this.textInputElement,\n          'mousemove',\n          (event) => {\n            this.handleTextareaMouseEvent(event, 'mousemove');\n          }\n        );\n        this.textareaEventListeners.push(onMouseMove);\n\n        const onMouseLeave = this.renderer.listen(\n          this.textInputElement,\n          'mouseleave',\n          (event) => {\n            if (this.hoveredTag) {\n              this.onMouseLeave(this.hoveredTag, event);\n            }\n          }\n        );\n        this.textareaEventListeners.push(onMouseLeave);\n      }\n\n      this.addTags();\n    });\n  }\n\n  private addTags() {\n    const textInputValue =\n      typeof this.textInputValue !== 'undefined'\n        ? this.textInputValue\n        : this.textInputElement.value;\n\n    const prevTags: HighlightTag[] = [];\n    const parts: string[] = [];\n\n    [...this.tags]\n      .sort((tagA, tagB) => {\n        return tagA.indices.start - tagB.indices.start;\n      })\n      .forEach((tag) => {\n        if (tag.indices.start > tag.indices.end) {\n          throw new Error(\n            `Highlight tag with indices [${tag.indices.start}, ${tag.indices.end}] cannot start after it ends.`\n          );\n        }\n\n        prevTags.forEach((prevTag) => {\n          if (overlaps(prevTag, tag)) {\n            throw new Error(\n              `Highlight tag with indices [${tag.indices.start}, ${tag.indices.end}] overlaps with tag [${prevTag.indices.start}, ${prevTag.indices.end}]`\n            );\n          }\n        });\n\n        // TODO - implement this as an ngFor of items that is generated in the template for a cleaner solution\n\n        const expectedTagLength = tag.indices.end - tag.indices.start;\n        const tagContents = textInputValue.slice(\n          tag.indices.start,\n          tag.indices.end\n        );\n        if (tagContents.length === expectedTagLength) {\n          const previousIndex =\n            prevTags.length > 0 ? prevTags[prevTags.length - 1].indices.end : 0;\n          const before = textInputValue.slice(previousIndex, tag.indices.start);\n          parts.push(escapeHtml(before));\n          const cssClass = tag.cssClass || this.tagCssClass;\n          const tagId = tagIndexIdPrefix + this.tags.indexOf(tag);\n          // flx-text-highlight-tag-id-${id} is used instead of a data attribute to prevent an angular sanitization warning\n          parts.push(\n            `<span class=\"flx-text-highlight-tag ${tagId} ${cssClass}\">${escapeHtml(\n              tagContents\n            )}</span>`\n          );\n          prevTags.push(tag);\n        }\n      });\n    const remainingIndex =\n      prevTags.length > 0 ? prevTags[prevTags.length - 1].indices.end : 0;\n    const remaining = textInputValue.slice(remainingIndex);\n    parts.push(escapeHtml(remaining));\n    parts.push('&nbsp;');\n    this.highlightedText = parts.join('');\n    this.cdr.detectChanges();\n\n    this.highlightTagElements = Array.from(\n      this.highlightElement.nativeElement.getElementsByTagName('span')\n    ).map((element: any) => {\n      return { element, clientRect: element.getBoundingClientRect() };\n    });\n  }\n\n  private handleTextareaMouseEvent(\n    event: MouseEvent,\n    eventName: 'click' | 'mousemove'\n  ) {\n    const matchingTagIndex = this.highlightTagElements.findIndex((elm) =>\n      isCoordinateWithinRect(elm.clientRect, event.clientX, event.clientY)\n    );\n\n    if (matchingTagIndex > -1) {\n      const target = this.highlightTagElements[matchingTagIndex].element;\n      const tagClass = Array.from(target.classList).find((className) =>\n        className.startsWith(tagIndexIdPrefix)\n      );\n      if (tagClass) {\n        const tagId = tagClass.replace(tagIndexIdPrefix, '');\n        const tag: HighlightTag = this.tags[Number(tagId)];\n        const tagMouseEvent = { tag, target, event };\n\n        if (eventName === 'click') {\n          this.tagClick.emit(tagMouseEvent);\n        } else {\n          if (this.hoveredTag) {\n            if (this.hoveredTag.target !== tagMouseEvent.target) {\n              this.onMouseLeave(this.hoveredTag, event);\n              this.onMouseEnter(tagMouseEvent, event);\n            }\n          } else {\n            this.onMouseEnter(tagMouseEvent, event);\n          }\n        }\n      }\n    } else if (eventName === 'mousemove' && this.hoveredTag) {\n      this.onMouseLeave(this.hoveredTag, event);\n    }\n  }\n\n  private onMouseEnter(tag: TagMouseEvent, event: MouseEvent): void {\n    tag.event = event;\n    tag.target.classList.add('flx-text-highlight-tag-hovered');\n    this.hoveredTag = tag;\n    this.tagMouseEnter.emit(tag);\n  }\n\n  private onMouseLeave(tag: TagMouseEvent, event: MouseEvent): void {\n    tag.event = event;\n    tag.target.classList.remove('flx-text-highlight-tag-hovered');\n    this.hoveredTag = undefined;\n    this.tagMouseLeave.emit(tag);\n  }\n}\n","<div class=\"flx-text-highlight-element\"\n     [ngStyle]=\"highlightElementContainerStyle\"\n     [innerHtml]=\"highlightedText\"\n     #highlightElement></div>","import {\n  Component,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  TemplateRef,\n} from '@angular/core';\n\nimport { ChoiceWithIndices } from './text-input-autocomplete';\nimport { TagMouseEvent } from './text-input-highlight';\n\n@Component({\n  selector: 'flx-mentions',\n  templateUrl: './mentions.component.html',\n  styleUrls: ['./mentions.component.scss'],\n})\nexport class MentionsComponent implements OnInit {\n  /**\n   * Reference to the text input element\n   */\n  @Input()\n  textInputElement: HTMLTextAreaElement | HTMLInputElement;\n\n  /**\n   * Reference to the menu template\n   */\n  @Input()\n  menuTemplate!: TemplateRef<any>;\n\n  /**\n   * The character that will trigger the menu to appear\n   */\n  @Input() triggerCharacter = '@';\n\n  /**\n   * The regular expression that will match the search text after the trigger character\n   */\n  @Input() searchRegexp = /^\\w*$/;\n\n  /**\n   * Whether to close the menu when the host textInputElement loses focus\n   */\n  @Input() closeMenuOnBlur = false;\n\n  /**\n   * Selected choices (required in editing mode in order to keep track of choices)\n   */\n  @Input() selectedChoices: any[] = [];\n\n  /**\n   * A function that formats the selected choice once selected.\n   * The result (label) is also used as a choice identifier (e.g. when editing choices)\n   */\n  @Input()\n  getChoiceLabel!: (choice: any) => string;\n\n  /**\n   * Called when the options menu is shown\n   */\n  @Output() menuShow = new EventEmitter();\n\n  /**\n   * Called when the options menu is hidden\n   */\n  @Output() menuHide = new EventEmitter();\n\n  /**\n   * Called when a choice is selected\n   */\n  @Output() choiceSelected = new EventEmitter<ChoiceWithIndices>();\n\n  /**\n   * Called when a choice is removed\n   */\n  @Output() choiceRemoved = new EventEmitter<ChoiceWithIndices>();\n\n  /**\n   * Called when a choice is selected, removed, or if any of the choices' indices change\n   */\n  @Output() selectedChoicesChange = new EventEmitter<ChoiceWithIndices[]>();\n\n  /**\n   * Called on user input after entering trigger character. Emits search term to search by\n   */\n  @Output() search = new EventEmitter<string>();\n\n  // --- text-input-highlight.component inputs/outputs ---\n  /**\n   * The CSS class to add to highlighted tags\n   */\n  @Input() tagCssClass: string = '';\n\n  /**\n   * Called when the area over a tag is clicked\n   */\n  @Output() tagClick = new EventEmitter<TagMouseEvent>();\n\n  /**\n   * Called when the area over a tag is moused over\n   */\n  @Output() tagMouseEnter = new EventEmitter<TagMouseEvent>();\n\n  /**\n   * Called when the area over the tag has the mouse is removed from it\n   */\n  @Output() tagMouseLeave = new EventEmitter<TagMouseEvent>();\n\n  selectedCwis: ChoiceWithIndices[] = [];\n\n  constructor() {}\n\n  ngOnInit(): void {}\n\n  onSelectedChoicesChange(cwis: ChoiceWithIndices[]): void {\n    this.selectedCwis = cwis;\n    this.selectedChoicesChange.emit(cwis);\n  }\n}\n","<flx-text-input-autocomplete [textInputElement]=\"textInputElement\" [menuTemplate]=\"menuTemplate\"\n  [triggerCharacter]=\"triggerCharacter\" [searchRegexp]=\"searchRegexp\" [closeMenuOnBlur]=\"closeMenuOnBlur\"\n  [getChoiceLabel]=\"getChoiceLabel\" [selectedChoices]=\"selectedChoices\" (search)=\"search.emit($event)\"\n  (choiceSelected)=\"choiceSelected.emit($event)\" (choiceRemoved)=\"choiceRemoved.emit($event)\"\n  (selectedChoicesChange)=\"onSelectedChoicesChange($event)\" (menuShow)=\"menuShow.emit()\"\n  (menuHide)=\"menuHide.emit()\"></flx-text-input-autocomplete>\n\n<flx-text-input-highlight [textInputElement]=\"textInputElement\" [tags]=\"selectedCwis\" [tagCssClass]=\"tagCssClass\"\n  (tagClick)=\"tagClick.emit($event)\" (tagMouseEnter)=\"tagMouseEnter.emit($event)\"\n  (tagMouseLeave)=\"tagMouseLeave.emit($event)\"></flx-text-input-highlight>","import { Component, ElementRef, HostListener, ViewChild } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'flx-text-input-autocomplete-menu',\n  template: `\n    <ul\n      *ngIf=\"choices?.length\"\n      #dropdownMenu\n      class=\"dropdown-menu\"\n      [style.top.px]=\"position?.top\"\n      [style.left.px]=\"position?.left\"\n    >\n      <li *ngFor=\"let choice of choices; trackBy: trackById\" [class.active]=\"activeChoice === choice\">\n        <a href=\"javascript:;\" (click)=\"selectChoice.next(choice)\">\n          {{ choice.name }}\n        </a>\n      </li>\n    </ul>\n  `,\n  styles: [\n    `\n      .dropdown-menu {\n        display: block;\n        max-height: 200px;\n        overflow-y: auto;\n      }\n    `,\n  ],\n})\nexport class TextInputAutocompleteMenuComponent {\n  @ViewChild('dropdownMenu', { static: false }) dropdownMenuElement: ElementRef<HTMLUListElement>;\n  position: { top: number; left: number };\n  selectChoice = new Subject();\n  activeChoice: any;\n  searchText: string;\n  choiceLoadError: any;\n  choiceLoading = false;\n  private _choices: any[];\n\n  constructor(public elementRef: ElementRef) {}\n\n  trackById = (index: number, choice: any) => (typeof choice.id !== 'undefined' ? choice.id : choice);\n\n  set choices(choices: any[]) {\n    this._choices = choices;\n    if (choices.indexOf(this.activeChoice) === -1 && choices.length > 0) {\n      this.activeChoice = choices[0];\n    }\n  }\n\n  get choices() {\n    return this._choices;\n  }\n\n  @HostListener('document:keydown.ArrowDown', ['$event'])\n  onArrowDown(event: KeyboardEvent) {\n    event.preventDefault();\n    const index = this.choices.indexOf(this.activeChoice);\n    if (this.choices[index + 1]) {\n      this.scrollToChoice(index + 1);\n    }\n  }\n\n  @HostListener('document:keydown.ArrowUp', ['$event'])\n  onArrowUp(event: KeyboardEvent) {\n    event.preventDefault();\n    const index = this.choices.indexOf(this.activeChoice);\n    if (this.choices[index - 1]) {\n      this.scrollToChoice(index - 1);\n    }\n  }\n\n  @HostListener('document:keydown.Enter', ['$event'])\n  onEnter(event: KeyboardEvent) {\n    if (this.choices.indexOf(this.activeChoice) > -1) {\n      event.preventDefault();\n      this.selectChoice.next(this.activeChoice);\n    }\n  }\n\n  private scrollToChoice(index: number) {\n    this.activeChoice = this._choices[index];\n\n    if (this.dropdownMenuElement) {\n      const ulPosition = this.dropdownMenuElement.nativeElement.getBoundingClientRect();\n      const li = this.dropdownMenuElement.nativeElement.children[index];\n      const liPosition = li.getBoundingClientRect();\n\n      if (liPosition.top < ulPosition.top || liPosition.bottom > ulPosition.bottom) {\n        li.scrollIntoView({\n          behavior: 'smooth',\n          block: 'nearest',\n        });\n      }\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TextInputAutocompleteComponent } from './text-input-autocomplete.component';\nimport { TextInputAutocompleteMenuComponent } from './text-input-autocomplete-menu.component';\n\n@NgModule({\n  declarations: [\n    TextInputAutocompleteComponent,\n    TextInputAutocompleteMenuComponent\n  ],\n  imports: [CommonModule],\n  exports: [\n    TextInputAutocompleteComponent,\n    TextInputAutocompleteMenuComponent\n  ],\n  entryComponents: [TextInputAutocompleteMenuComponent]\n})\nexport class TextInputAutocompleteModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TextInputHighlightComponent } from './text-input-highlight.component';\n\n@NgModule({\n  declarations: [\n    TextInputHighlightComponent,\n  ],\n  imports: [CommonModule],\n  exports: [\n    TextInputHighlightComponent,\n  ]\n})\nexport class TextInputHighlightModule {}\n","import { NgModule } from '@angular/core';\n\nimport { TextInputAutocompleteModule } from './text-input-autocomplete';\nimport { TextInputHighlightModule } from './text-input-highlight';\n\nimport { MentionsComponent } from './mentions.component';\n\n@NgModule({\n  declarations: [MentionsComponent],\n  imports: [TextInputAutocompleteModule, TextInputHighlightModule],\n  exports: [\n    MentionsComponent,\n    TextInputAutocompleteModule,\n    TextInputHighlightModule,\n  ],\n})\nexport class MentionsModule {}\n","/*\n * Public API Surface of mentions\n */\n\nexport * from './lib/index';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i1.TextInputAutocompleteComponent","i2.TextInputHighlightComponent"],"mappings":"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"}